<% layout('layout') -%>
<% script('javascripts/kana.js') -%>

    <section class="mainContent">
	    <div class="featureHeading">
          <p class="featureTitle">Kana converter</p>
		  <p class="featureDescription">This feature provides kana script information. </p>
	    </div>
 	    <div class="featureSubcontainer">
    	<div class="tryIt">
    		<span class="tryIt-label">Try it!</span>
    		<div class="tryIt-examples">
    			<div class="tryIt-example">
	    			<button class="kExample" onClick="tryKana(this)">ぱ</button>
    			</div>
    			<div class="tryIt-example">
	    			<button class="btn" onClick="tryKana(this)">ka</button>
    			</div>
    			<div class="tryIt-example">
	    			<button class="btn" onClick="tryKana(this)">306C</button>
    			</div>
    			<div class="tryIt-example">
	    			<button class="btn" onClick="tryKana(this)">12415</button>
    			</div>
    			<div class="tryIt-example">
	    			<button class="kExample" onClick="tryKana(this)">き</button>
    			</div>
    			<div class="tryIt-example">
	    			<button class="btn" onClick="tryKana(this)">mu</button>
    			</div>
    			<div class="tryIt-example">
	    			<button class="btn" onClick="tryKana(this)">308D</button>
    			</div>
    			<div class="tryIt-example">
	          <button class="btn" onClick="tryRandom()">Random</button>
    			</div>
    		</div>
    	</div>
    	
 	    </div>
	    <div class="featureSubcontainer">
	          <div class="conversionDisplay">
				<div>
					<p>Get specific kana information. Valid inputs are kana script character, integer value, hex/unicode value or romaji literal.</p>
					<input type="text" id="conversionInput">
					<button id="kConvertBtn" class="btn buildBtn" onClick="doKanaConversion()">Kana</button>
				</div>
				<div><span class="outputLabel">Pronunciation:</span><span class="valueDisplay" id="pronunciation"></span></div>
				<div><span class="outputLabel">Unicode value:</span><span class="valueDisplay" id="unicodeValue"></span></div>
				<div><span class="outputLabel">Integer value:</span><span class="valueDisplay" id="intValue"></span></div>
				<div id="scriptDisplay" class="scriptDisplay"></div>
	          </div>
	    </div>  
	    <div class="listAllKana">
			<p>List all hiragana as:</p>
			<button id="" class="btn buildBtn" onClick="showAll()">text</button>
			<button id="" class="btn buildBtn" onClick="showAllJson()">JSON</button>
			<div id="fullKanaList" class="fullKanaList" name="fullList">
			<textarea id="fullKanaListTA" class="fullKanaListTA" cols="25" rows="42"></textarea>	        
			</div>
	    </div>        
    </section>

    <script>
    	function tryKana(el) {
	    	document.getElementById("conversionInput").value = el.innerHTML;
	    	console.log(el);
	    	document.getElementById("kConvertBtn").click();
	    	
    	}
    	function tryKChar() {
	    	document.getElementById("conversionInput").value = "\u3071";
	    	document.getElementById("kConvertBtn").click();

    	}
    	function tryIntValue() {
	    	document.getElementById("conversionInput").value = 12415;
	    	document.getElementById("kConvertBtn").click();

    	}
    	function tryUValue() {
	    	document.getElementById("conversionInput").value = "306C";
	    	document.getElementById("kConvertBtn").click();

    	}
    	function tryRLiteral() {
	    	document.getElementById("conversionInput").value = "ka";
	    	document.getElementById("kConvertBtn").click();

    	}
    	function tryRandom() {
	    	document.getElementById("conversionInput").value = getRandomKana().uValue;
	    	document.getElementById("kConvertBtn").click();
    	}
    	
    	function showAll() {
	    	var kAllOutput = "";
	    	for (var kana in kDict) {
			    if (kDict.hasOwnProperty(kana)) {
			        kAllOutput += kDict[kana].name + " = " + kDict[kana].uValue + "\n";
			    }
			} 
	    	document.getElementById("fullKanaList").style.display = "block";
			document.getElementById("fullKanaListTA").value = kAllOutput;
    	}

    	function showAllJson() {
	    	var kAllOutputJson = "";
	    	for (var kana in kDict) {
			    if (kDict.hasOwnProperty(kana)) {
			        kAllOutputJson += "{\n " + kDict[kana].name + " : {\n  name : " + kDict[kana].name + ",\n  intValue : " +
			        kDict[kana].intValue + ",\n  unicode : " + kDict[kana].uValue + "\n }\n},\n";
			    }
			} 
			kAllOutputJson = kAllOutputJson.substr(0, kAllOutputJson.length - 2);
	    	document.getElementById("fullKanaList").style.display = "block";
			document.getElementById("fullKanaListTA").value = kAllOutputJson;
    	}


    </script>




















